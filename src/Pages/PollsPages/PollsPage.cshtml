@page
@using ContosoCrafts.WebSite.Models
@model ContosoCrafts.WebSite.Pages.PollsPageModel
@{
    ViewData["Title"] = "Polls Page";
}

<div class="container">

    <div class="row">

        <div class="col-12">

            <h1>@ViewData["Title"]</h1>
            <p>This page will display all active polls created by our users.</p>

            <a class="btn btn-info" asp-page="/PollsPages/CreatePollPage"> <i class="fa fa-plus"></i> Create Poll</a>
            <a asp-page="/PollsPages/GuidelinePage" class="btn btn-info">Guidelines</a>

            <hr />

            
                <div class="container">
                    <div class="row">
                        @{ 
                         foreach (PollModel poll in Model.Polls)
                         {
                                <div class="col-4">
                                    <div class="card text-white bg-dark mb-3">
                                        <div class="card-body">
                                            <h2 class="card-title" > @poll.Title</h2>
                                            <hr />
                                            <p class="card-subtitle">  @poll.Description </p>
                                            <div class="card-body">
                                                @foreach (OpinionItem item in poll.OpinionItems.ToList())
                                                {

                                                    <div class="row">
                                                        <div class="col-auto">
                                                            <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">
                                                            <label>@item.OpinionName</label>
                                                        </div>
                                                        <div class="col-auto">
                                                            <label>Votes: @item.NumCounts</label>
                                                        </div>
                                                    </div>

                                                }
                                            </div>
                                            <hr />
                                            <a class="btn btn-outline-success">Submit Vote</a>
                                            <a class="btn btn-outline-primary">Edit Poll</a>
                                        </div>
                                    </div>
                                </div>
                             }
                         }
                    </div>
                </div>
            
        </div>

    </div>

</div>

